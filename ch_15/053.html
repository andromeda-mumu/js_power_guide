<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>查找元素中的后代中节点的所有text节点</title>
</head>
<body>
<p>this is "<p>"two h "<p>"three mmc"</p>""</p>"</p>
<script>
  function textContext(e) {
      var child,type,s="";
      for(child =e.firstChild;child !=null;child=child.nextSibling){
          type = child.nodeType;
          if(type===3 || type ===4)
              s+=child.nodeValue;
          else if(type ===1)
              s+=textContext(child);
      }
      return s;
  }

  function upcase(n) {
      if(n.nodeType ==3 || n.nodeType==4)
          n.data =n.data.toUpperCase();
      else
          for(var i=0;i<n.childNodes.length;i++){
              upcase(n.childNodes[i]);
          }
  }
  upcase(document.getElementsByTagName("p"));
</script>
</body>
</html>